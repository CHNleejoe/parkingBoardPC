{"version":3,"sources":["webpack:///src/pages/charge.vue","webpack:///./src/pages/charge.vue?d88e","webpack:///./src/pages/charge.vue"],"names":["charge","data","name","carTypePopupCtl","carTypeColumns","label","value","carTypeIndex","displayStartDate","Date","startDate","dayjs_min_default","displayEndDate","endDate","startDatePopupCtl","endDatePopupCtl","pageNo","pageSize","key","listData","totalItems","loading","finished","refreshing","watch","components","mounted","this","$route","query","Math","abs","diff","$message","onRefresh","methods","goBack","history","back","test","val","console","log","formatter","type","day","t","exportExcel","self","inoutStr","map","i","filename","format","params","startTime","endTime","$api","getPriceDetails","then","res","h","code","b","dataList","dataItem","item","carNo","userType","userName","telephoneNum","companyName","enterTime","outTime","payType","createTime","price","push","wb","xlsx_default","a","utils","book_new","ws","aoa_to_sheet","book_append_sheet","writeFile","error","msg","turnPage","url","$router","path","confirmCarType","index","setStartDate","dateTypeIndex","setEndDate","requestData","pages_charge","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","placeholder","model","callback","$$v","expression","slot","on","click","$event","_v","_l","change","staticStyle","width","prop","scopedSlots","_u","fn","ref","row","_s","background","layout","current-page","total","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.ff6cf3b32f1d72644226.js","sourcesContent":["<template>\n    <div>\n        <div class=\"content-box\">\n            <div class=\"search\">\n                <div class=\"selects\">\n                    <el-input class=\"search-input\" v-model=\"key\" placeholder=\"请输入车牌号或公司名称\">\n                        <div class=\"search-icon\" slot=\"suffix\" @click=\"onRefresh(1)\"></div>\n                    </el-input>\n                    <el-select class=\"type\" v-model=\"carTypeIndex\" placeholder=\"请选择进出场类型\">\n                        <el-option\n                        v-for=\"item in carTypeColumns\"\n                        :key=\"item.value\"\n                        :label=\"item.label\"\n                        :value=\"item.value\">\n                        </el-option>\n                    </el-select>\n                    <el-date-picker\n                    class=\"datepicker\"\n                    v-model=\"startDate\"\n                    type=\"date\"\n                    @change=\"setStartDate\"\n                    placeholder=\"选择开始日期\">\n                    </el-date-picker>\n                    <div class=\"double-line\"></div>\n                    <el-date-picker\n                    class=\"datepicker\"\n                    v-model=\"endDate\"\n                    type=\"date\"\n                    @change=\"setEndDate\"\n                    placeholder=\"选择结束日期\">\n                    </el-date-picker>\n                </div>\n                <div class=\"btns\">\n                    <el-button class=\"search-btn\" type=\"primary\" @click=\"onRefresh(1)\">查询</el-button>\n                    <el-button class=\"pull-btn\" type=\"primary\" @click=\"exportExcel\">导出</el-button>\n                </div>\n            </div>\n            <div class=\"datas\">\n                <div class=\"title\">停车消费查询</div>\n                <div class=\"table-box\">\n                     <el-table\n                        :data=\"listData\"\n                        style=\"width: 100%\">\n                        <el-table-column\n                            prop=\"carNo\"\n                            label=\"车牌号\"\n                            >\n                            <template slot-scope=\"{row}\">\n                                {{ row.carNo || '/' }}\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"userType\"\n                            label=\"用户类型\"\n                            >\n                            <template slot-scope=\"{row}\">\n                                {{ row.userType || '/' }}\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"userName\"\n                            label=\"用户名称\">\n                            <template slot-scope=\"{row}\">\n                                {{ row.userName || '/' }}\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"telephoneNum\"\n                            label=\"联系电话\">\n                            <template slot-scope=\"{row}\">\n                                {{ row.telephoneNum || '/' }}\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"companyName\"\n                            label=\"公司名称\">\n                            <template slot-scope=\"{row}\">\n                                {{ row.companyName || '/' }}\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"enterTime\"\n                            label=\"进场时间\">\n                            <template slot-scope=\"{row}\">\n                                {{ row.enterTime || '/' }}\n                            </template>\n                        </el-table-column>\n                        \n                        <el-table-column\n                            prop=\"outTime\"\n                            label=\"出场时间\">\n                            <template slot-scope=\"{row}\">\n                                {{ row.outTime || '/' }}\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"payType\"\n                            label=\"支付方式\">\n                            <template slot-scope=\"{row}\">\n                                {{ row.payType || '/' }}\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"createTime\"\n                            label=\"充值时间\">\n                            <template slot-scope=\"{row}\">\n                                {{ row.createTime || '/' }}\n                            </template>\n                        </el-table-column>\n                        <el-table-column\n                            prop=\"price\"\n                            label=\"金额\">\n                            <template slot-scope=\"{row}\">\n                                {{ row.price || '/' }}\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                    <div class=\"pagination\">\n                        <el-pagination\n                        background\n                        layout=\"prev, pager, next\"\n                        @current-change='onRefresh'\n                        :current-page='pageNo'\n                        :total=\"totalItems\">\n                        </el-pagination>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n        \n    </div>\n</template>\n\n<script>\nimport dayjs from 'dayjs';\n\nimport FileSaver from 'file-saver'\nimport XLSX from 'xlsx'\n\nexport default {\n    data(){\n        return {\n            name: 'charge',\n            // 车子类型选择器\n            carTypePopupCtl: false,\n            carTypeColumns:[{label:'全部车',value:''},{label:'月卡车',value:1},{label:'临时车',value:2}],\n            \n            carTypeIndex: '',\n\n            // 时间选择器控制器数据\n            displayStartDate: new Date(),\n            startDate: dayjs(new Date()),\n\n            displayEndDate: new Date(),\n            endDate: dayjs(new Date()),\n\n            startDatePopupCtl: false,\n            endDatePopupCtl: false,\n\n            // 分页数据\n            pageNo: 1,\n            pageSize: 10,\n\n            // keyword\n            key: '',\n\n            // list\n            listData: [],\n            totalItems: 100,\n\n            // 自动加载及刷新数据\n            loading: false,\n            finished: false,\n            refreshing: false,\n\n        }\n    },\n    watch: {\n        \n    },\n    components: {\n        \n    },\n    mounted() {\n        const self = this;\n        // console.log(self.$route.query)\n        if(self.$route.query) {\n            self.startDate = self.$route.query.startDate,\n            self.endDate = self.$route.query.endDate,\n            // self.carTypeIndex = JSON.parse(self.$route.query.expend).inOut\n            // console.log(dayjs(self.startDate,self.endDate))\n            Math.abs(dayjs(self.startDate).diff(dayjs(self.endDate),'day'))>=30?self.$message('由于数据量过大，查询范围只能为30天'):''\n        }\n        self.onRefresh(1)\n    },\n    methods:{\n        goBack() {\n            history.back();\n        },\n        test(val) {\n            console.log('page',val)\n        },\n\n        formatter(type, val) {\n            if (type === 'year') {\n                return `${val}年`;\n            } else if (type === 'month') {\n                return `${val}月`\n            }\n            return val;\n        },\n        day(t) {\n            // console.log(new Date(t))\n            return new Date(t)\n        },\n        // 导出表格\n        exportExcel () {\n            const self = this;\n\n            var inoutStr = ''\n            self.carTypeColumns.map(i => {\n                self.carTypeIndex == i.value?inoutStr = i.label:''\n            })\n\n            var filename = dayjs(self.startDate).format('YYYY年MM月DD日')+'到'+dayjs(self.endDate).format('YYYY年MM月DD日')+inoutStr+\"停车消费信息.xlsx\";\n            // 数据格式\n            var data = []\n\n            let params = {\n                pageNo: 1,\n                pageSize: 0,\n                key: self.key,\n                type: self.carTypeIndex,\n                startTime: dayjs(self.startDate).format('YYYY-MM-DD'),\n                endTime: dayjs(self.endDate).format('YYYY-MM-DD'),\n            }\n\n            self.$api.getPriceDetails(params).then(res => {\n                \n                if(res.h.code != 200) {\n                    self.$message.error(res.h.msg)\n                    return\n                }\n                let listData = res.b.dataList\n\n                // 数据格式处理\n                data = [['车牌号', '用户类型', '用户名称', '联系电话', '公司名称', '进场时间', '出场时间', '支付方式', '充值时间', '金额']]\n                let dataItem = []\n                listData.map(item => {\n                    dataItem = [item.carNo, item.userType, item.userName, item.telephoneNum, item.companyName, item.enterTime, item.outTime, item.payType, item.createTime, item.price]\n                    data.push(dataItem)\n                })\n\n                // 创建工作簿和工作表\n                var wb = XLSX.utils.book_new(), // 工作簿，即一个Excel文件\n                    ws = XLSX.utils.aoa_to_sheet(data); // 工作表，即Excel内部的工作表\n                \n                // \"SheetJS\" 为工作表名称，即Excel文件中工作表\n                XLSX.utils.book_append_sheet(wb, ws, \"搜索条件为\" + self.key);\n            \n                // 写出Excel工作簿\n                XLSX.writeFile(wb, filename);\n\n            })\n        },\n        turnPage(url){\n            const self = this;\n            if(url == '') return\n            self.$router.push({ path: url, query: { startDate: self.startDate, endDate: self.endDate } });\n        },\n        confirmCarType(value, index) {\n            const self = this;\n            \n            self.carTypeIndex = index;\n            self.onRefresh()\n            self.carTypePopupCtl = false\n        },\n        setStartDate(value) {\n            const self = this;\n            // if(value > dayjs(self.endDate)) {\n            //     // self.$message('开始时间不能大于结束时间')\n            //     self.startDate  = dayjs(self.endDate);\n            //     return\n            // }\n            self.startDate  = value\n            self.dateTypeIndex = 3\n        },\n        setEndDate(value) {\n            const self = this;\n            // if(value < dayjs(self.startDate)) {\n            //     // self.$message('结束时间不能小于开始时间')\n            //     self.endDate  = dayjs(self.startDate);\n            //     return\n            // }\n            self.endDate = value\n            self.dateTypeIndex = 3\n\n        },\n        requestData() {\n            const self = this;\n\n            let params = {\n                pageNo: self.pageNo,\n                pageSize: self.pageSize,\n                key: self.key,\n                userType: self.carTypeIndex,\n                startTime: dayjs(self.startDate).format('YYYY-MM-DD'),\n                endTime: dayjs(self.endDate).format('YYYY-MM-DD'),\n            }\n\n            self.$api.getPriceDetails(params).then(res => {\n                \n                if(res.h.code != 200) {\n                    self.$message.error(res.h.msg)\n                    return\n                }\n\n                self.totalItems = res.b.totalItems\n                self.listData = res.b.dataList\n\n                // if (self.pageNo >= res.b.totalItems) {\n                //     self.finished = true;\n                // }\n            })\n        },\n        onRefresh(val) {\n            const self = this;\n\n            self.pageNo = val\n            console.log(self.pageNo)\n\n            this.requestData();\n        },\n\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n    .content-box{\n        font-size: 14px;\n        width:1080px;\n        background:rgba(52,38,96,1);\n        padding: 20px 39px 0 41px;\n        box-sizing: border-box;\n        .search{\n            height:58px;\n            background:#131929;\n            border-radius:8px;\n            box-sizing: border-box;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 0 60px;\n            .selects{\n                display: flex;\n                justify-content: flex-start;\n                align-items: center;\n                .search-input{\n                    width: 237px;\n                    margin-right: 14px;\n                    .search-icon{\n                        width:39px;\n                        height:31px;\n                        border-top-right-radius: 3px;\n                        border-bottom-right-radius: 3px;\n                        position: absolute;\n                        right: -5px;\n                        top: -15px;\n                        box-sizing: border-box;\n                        border: 1px solid;\n                        border-left: 0;\n                        background:linear-gradient(360deg,rgba(118,118,255,1) 0%,rgba(119,167,255,1) 100%);\n                        cursor: pointer;\n                        transition: all .2s;\n                        &:hover{\n                            opacity: .9;\n                        }\n                        &::after{\n                            content: '';\n                            position: absolute;\n                            height: 100%;\n                            width: 100%;\n                            top: 0;\n                            left: 0;\n                            background: url(../assets/imgs/search.png) no-repeat center center;\n\n                        }\n                    }\n                }\n                .type{\n                    height: 31px;\n                    width: 90px;\n                    margin-right: 14px;\n                }\n                /deep/ .el-input__suffix{\n                    top: 50%;\n                    transform: translateY(-50%);\n                    height: auto;\n                }\n                /deep/ .el-input__inner{\n                    background: #131929;\n                    color: #E6E7E9;\n                    height: 31px;\n                }\n                .datepicker{\n                    width: 140px;\n                    margin-right: 14px;\n                    /deep/ .el-input__icon{\n                        line-height: 31px;\n                    }\n                }\n                .double-line{\n                    width: 18px;\n                    height: 31px;\n                    margin-right: 14px;\n                    background: url(../assets/imgs/arrows.png) no-repeat center center;\n                    background-size: 18px 15px;\n                }\n            }\n            .btns{\n                .search-btn{\n                    background:linear-gradient(360deg,rgba(118,118,255,1) 0%,rgba(119,167,255,1) 100%);\n                    padding: 7px 25px;\n                }\n                .pull-btn{\n                    padding: 7px 25px;\n                    background:linear-gradient(270deg,rgba(83,231,200,1) 0%,rgba(41,203,151,1) 100%);\n                }\n            }\n        }\n        .datas{\n            margin-top: 10px;\n            width: 100%;\n            overflow: hidden;\n            .title{\n                height:28px;\n                font-size:20px;\n                font-family:PingFangSC-Medium,PingFang SC;\n                font-weight:500;\n                color:rgba(255,255,255,1);\n                line-height:28px;\n                margin: 10px 0;\n                box-sizing: border-box;\n                padding-left: 10px;\n                position: relative;\n                &::after{\n                    content: '';\n                    background: url(../assets/imgs/line.png) no-repeat center center;\n                    left: 0;\n                    top: 50%;\n                    transform: translateY(-50%);\n                    position: absolute;\n                    width: 4px;\n                    height:23px;\n                }\n            }\n            .table-box{\n                background: #131929;\n                border-radius: 10px;\n                overflow: hidden;\n                margin-bottom: 40px;\n                padding: 0 20px;\n                position: relative;\n                &::before{\n                    content: '';\n                    height: 61px;\n                    width: 100%;\n                    background:linear-gradient(360deg,rgba(118,118,255,1) 0%,rgba(119,167,255,1) 100%);\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    border-bottom: 1px solid #EBEEF5;\n                }\n                /deep/ .el-table{\n                    &::before{\n                        height: 0;\n                    }\n                }\n                /deep/ .el-table th {\n                    padding: 19px 0;\n                }\n                /deep/ .el-table__header{\n                    thead th{\n                        color: #FFFFFF;\n                        background:linear-gradient(360deg,rgba(118,118,255,1) 0%,rgba(119,167,255,1) 100%);\n                    }\n                }\n                /deep/ .el-table__empty-block{\n                    background: #131929;\n\n                }\n                /deep/ .el-table th.is-leaf {\n                    border-bottom: 0;\n                }\n                /deep/ .el-table__row{\n                    td{\n                        color: #C6C7CB;\n                        background: #131929;\n                        border-bottom-style: dashed;\n                        border-color: #aaa;\n                        border-width: 1px;\n                        font-size:13px;\n                        font-family:SourceHanSansCN-Regular,SourceHanSansCN;\n                        font-weight:400;\n                    }\n                }\n                /deep/ .el-table__header-wrapper{\n                    box-sizing: border-box;\n                    background:linear-gradient(360deg,rgba(118,118,255,1) 0%,rgba(119,167,255,1) 100%);\n                    border-bottom: 1px solid #EBEEF5;\n                }\n            }\n        }\n        .pagination{\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            margin: 30px 0 18px 0;\n        }\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/charge.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"content-box\"},[_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"selects\"},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请输入车牌号或公司名称\"},model:{value:(_vm.key),callback:function ($$v) {_vm.key=$$v},expression:\"key\"}},[_c('div',{staticClass:\"search-icon\",attrs:{\"slot\":\"suffix\"},on:{\"click\":function($event){return _vm.onRefresh(1)}},slot:\"suffix\"})]),_vm._v(\" \"),_c('el-select',{staticClass:\"type\",attrs:{\"placeholder\":\"请选择进出场类型\"},model:{value:(_vm.carTypeIndex),callback:function ($$v) {_vm.carTypeIndex=$$v},expression:\"carTypeIndex\"}},_vm._l((_vm.carTypeColumns),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-date-picker',{staticClass:\"datepicker\",attrs:{\"type\":\"date\",\"placeholder\":\"选择开始日期\"},on:{\"change\":_vm.setStartDate},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}}),_vm._v(\" \"),_c('div',{staticClass:\"double-line\"}),_vm._v(\" \"),_c('el-date-picker',{staticClass:\"datepicker\",attrs:{\"type\":\"date\",\"placeholder\":\"选择结束日期\"},on:{\"change\":_vm.setEndDate},model:{value:(_vm.endDate),callback:function ($$v) {_vm.endDate=$$v},expression:\"endDate\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('el-button',{staticClass:\"search-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onRefresh(1)}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"pull-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"导出\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"datas\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"停车消费查询\")]),_vm._v(\" \"),_c('div',{staticClass:\"table-box\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.listData}},[_c('el-table-column',{attrs:{\"prop\":\"carNo\",\"label\":\"车牌号\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                            \"+_vm._s(row.carNo || '/')+\"\\n                        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userType\",\"label\":\"用户类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                            \"+_vm._s(row.userType || '/')+\"\\n                        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"userName\",\"label\":\"用户名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                            \"+_vm._s(row.userName || '/')+\"\\n                        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"telephoneNum\",\"label\":\"联系电话\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                            \"+_vm._s(row.telephoneNum || '/')+\"\\n                        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"companyName\",\"label\":\"公司名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                            \"+_vm._s(row.companyName || '/')+\"\\n                        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"enterTime\",\"label\":\"进场时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                            \"+_vm._s(row.enterTime || '/')+\"\\n                        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"outTime\",\"label\":\"出场时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                            \"+_vm._s(row.outTime || '/')+\"\\n                        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"payType\",\"label\":\"支付方式\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                            \"+_vm._s(row.payType || '/')+\"\\n                        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"充值时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                            \"+_vm._s(row.createTime || '/')+\"\\n                        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"金额\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_vm._v(\"\\n                            \"+_vm._s(row.price || '/')+\"\\n                        \")]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"current-page\":_vm.pageNo,\"total\":_vm.totalItems},on:{\"current-change\":_vm.onRefresh}})],1)],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0a65df54\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/charge.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0a65df54\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./charge.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./charge.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./charge.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0a65df54\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./charge.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0a65df54\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/charge.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}